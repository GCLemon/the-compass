(()=>{"use strict";var e={582:(e,a,r)=>{var t=r(963),n=r(252),o=(0,n._)("h1",null,"The Compass チェスマップジェネレータ",-1),i=(0,n._)("div",null," このページは、華麗なる怪盗TRPG PHANTOMISM シナリオ「The Compass」の2回目で使用するチェスマップを自動生成するものです。 下のボタンをクリックすると、チェスマップ情報を含んだXMLファイルがダウンロードされます。 ダウンロードされたXMLファイルをUdonariumの画面にドラッグ&ドロップすると、チェスマップを表示することができます。 ",-1),d=(0,n._)("div",null," PHANTOMISMの著作権は全て「miRa」「つきのふね」に帰属します。 ",-1);function f(e,a,r,t,f,l){return(0,n.wg)(),(0,n.iD)(n.HY,null,[o,i,(0,n._)("div",null,[(0,n._)("input",{type:"button",value:"チェスマップを生成",onClick:a[0]||(a[0]=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];return e.loadXml&&e.loadXml.apply(e,a)})})]),d],64)}function l(e,a,r,t,n){var o=new Array(e);while(1){for(var i=0;i<e;++i)o[i]=new Array(a).fill(!1);for(var d=0;d<2*a;++d){var f=Math.floor(7*Math.random());i=Math.floor(Math.random()*(e-4)+2);o[i][f]?--d:o[i][f]=!0}var l=!1;for(f=0;f<a;++f){for(i=0;i<e;++i){var c=0;if(c+=f-1<0||a<=f-1||o[i][f-1]?1:0,c+=f+1<0||a<=f+1||o[i][f+1]?1:0,c+=i-1<0||e<=i-1||o[i-1][f]?1:0,c+=i+1<0||e<=i+1||o[i+1][f]?1:0,l=c>=3,l)break}if(l)break}if(!l){var u=new Array;for(f=0;f<a-1;++f)for(i=0;i<e-1;++i)o[i+0][f+0]||o[i+0][f+1]||o[i+1][f+0]||o[i+1][f+1]||u.push([i+0,f+0,i+0,f+1,i+1,f+0,i+1,f+1]);var m=new Array,s=u.shift();s&&m.push(s);var p=function(){var e=m.shift();if(e){var a=function(e,a){for(var r=0;r<e.length;++r)if(e[r]!=a[r])return!1;return!0},r=e.map((function(e,a,r){return a%2==0?e-1:e})),t=u.findIndex((function(e,t,n){return a(e,r)}));-1!=t&&(m.push(r),u.splice(t,1));var n=e.map((function(e,a,r){return a%2==0?e+1:e})),o=u.findIndex((function(e,r,t){return a(e,n)}));-1!=o&&(m.push(n),u.splice(o,1));var i=e.map((function(e,a,r){return a%2==1?e-1:e})),d=u.findIndex((function(e,r,t){return a(e,i)}));-1!=d&&(m.push(i),u.splice(d,1));var f=e.map((function(e,a,r){return a%2==1?e+1:e})),l=u.findIndex((function(e,r,t){return a(e,f)}));-1!=l&&(m.push(f),u.splice(l,1))}};while(m.length>0)p();if(!(u.length>0)){var h=0;for(f=0;f<a;++f)for(i=0;i<e;++i)o[i][f]&&(h+=Math.pow(9.5-i,2));if(h=Math.sqrt(h),!(h<t)&&!(h>n))return o}}}}function c(e){for(var a='<?xml version="1.0" encoding="UTF-8"?><game-table name="チェス - 2" width="18" height="40" gridSize="50" imageIdentifier="d3e2ee12ee48f73e8d02da3d1d910850dcf19cd2051c4729473984f9c608a601" backgroundImageIdentifier="135be99407c465c3b297d0b332a85a2d99937f856baa339dae89b82e3386c5ef" backgroundFilterType="black" selected="true" gridType="0" gridColor="#0000006e" girdSize="50">',r=0;r<7;++r)for(var t=0;t<18;++t)e[t][r]&&(a+='<terrain location.name="table" location.x="'.concat(100*(r+1),'" location.y="').concat(100*(t+1),'" posZ="0" isLocked="true" mode="3" rotate="0"><data name="terrain"><data name="image"><data type="image" name="imageIdentifier"></data><data type="image" name="wall">./assets/images/tex.jpg</data><data type="image" name="floor">./assets/images/tex.jpg</data></data><data name="common"><data name="name">地形</data><data name="width">2</data><data name="height">2</data><data name="depth">2</data></data><data name="detail"></data></data></terrain>'));return a+="</game-table>",a}const u=(0,n.aZ)({methods:{loadXml:function(){var e=l(18,7,2,14,15),a=c(e),r=new Blob([a],{type:"text/xml"}),t=URL.createObjectURL(r),n=document.createElement("a");document.body.appendChild(n),n.download="chess-map.xml",n.href=t,n.click(),n.remove(),URL.revokeObjectURL(t)}}});var m=r(744);const s=(0,m.Z)(u,[["render",f]]),p=s;(0,t.ri)(p).mount("#app")}},a={};function r(t){var n=a[t];if(void 0!==n)return n.exports;var o=a[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.m=e,(()=>{var e=[];r.O=(a,t,n,o)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){for(var[t,n,o]=e[c],d=!0,f=0;f<t.length;f++)(!1&o||i>=o)&&Object.keys(r.O).every((e=>r.O[e](t[f])))?t.splice(f--,1):(d=!1,o<i&&(i=o));if(d){e.splice(c--,1);var l=n();void 0!==l&&(a=l)}}return a}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,n,o]}})(),(()=>{r.d=(e,a)=>{for(var t in a)r.o(a,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={143:0};r.O.j=a=>0===e[a];var a=(a,t)=>{var n,o,[i,d,f]=t,l=0;if(i.some((a=>0!==e[a]))){for(n in d)r.o(d,n)&&(r.m[n]=d[n]);if(f)var c=f(r)}for(a&&a(t);l<i.length;l++)o=i[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(c)},t=self["webpackChunkthe_compass"]=self["webpackChunkthe_compass"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var t=r.O(void 0,[998],(()=>r(582)));t=r.O(t)})();
//# sourceMappingURL=app.dc785748.js.map