(function(){"use strict";var e={582:function(e,n,a){var t=a(963),r=a(252),o=(0,r._)("h1",null,"The Compass チェスマップジェネレータ",-1),i=(0,r._)("div",null," このページは、華麗なる怪盗TRPG PHANTOMISM シナリオ「The Compass」の2回目で使用するチェスマップを自動生成するものです。 下のボタンをクリックすると、チェスマップ情報を含んだXMLファイルがダウンロードされます。 ダウンロードされたXMLファイルをUdonariumの画面にドラッグ&ドロップすると、チェスマップを表示することができます。 ",-1),u=(0,r._)("div",null," PHANTOMISMの著作権は全て「miRa」「つきのふね」に帰属します。 ",-1);function f(e,n,a,t,f,c){return(0,r.wg)(),(0,r.iD)(r.HY,null,[o,i,(0,r._)("div",null,[(0,r._)("input",{type:"button",value:"チェスマップを生成",onClick:n[0]||(n[0]=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return e.loadXml&&e.loadXml.apply(e,n)})})]),u],64)}function c(e,n,a,t,r){var o=new Array(e);while(1){for(var i=0;i<e;++i)o[i]=new Array(n).fill(!1);for(var u=0;u<2*n;++u){var f=Math.floor(7*Math.random());i=Math.floor(Math.random()*(e-4)+2);o[i][f]?--u:o[i][f]=!0}var c=!1;for(f=0;f<n;++f){for(i=0;i<e;++i){var d=0;if(d+=f-1<0||n<=f-1||o[i][f-1]?1:0,d+=f+1<0||n<=f+1||o[i][f+1]?1:0,d+=i-1<0||e<=i-1||o[i-1][f]?1:0,d+=i+1<0||e<=i+1||o[i+1][f]?1:0,c=d>=3,c)break}if(c)break}if(!c){var l=new Array;for(f=0;f<n-1;++f)for(i=0;i<e-1;++i)o[i+0][f+0]||o[i+0][f+1]||o[i+1][f+0]||o[i+1][f+1]||l.push([i+0,f+0,i+0,f+1,i+1,f+0,i+1,f+1]);var m=new Array,s=l.shift();s&&m.push(s);var p=function(){var e=m.shift();if(e){var n=function(e,n){for(var a=0;a<e.length;++a)if(e[a]!=n[a])return!1;return!0},a=e.map((function(e,n,a){return n%2==0?e-1:e})),t=l.findIndex((function(e,t,r){return n(e,a)}));-1!=t&&(m.push(a),l.splice(t,1));var r=e.map((function(e,n,a){return n%2==0?e+1:e})),o=l.findIndex((function(e,a,t){return n(e,r)}));-1!=o&&(m.push(r),l.splice(o,1));var i=e.map((function(e,n,a){return n%2==1?e-1:e})),u=l.findIndex((function(e,a,t){return n(e,i)}));-1!=u&&(m.push(i),l.splice(u,1));var f=e.map((function(e,n,a){return n%2==1?e+1:e})),c=l.findIndex((function(e,a,t){return n(e,f)}));-1!=c&&(m.push(f),l.splice(c,1))}};while(m.length>0)p();if(!(l.length>0)){var h=0;for(f=0;f<n;++f)for(i=0;i<e;++i)o[i][f]&&(h+=Math.pow(9.5-i,2));if(h=Math.sqrt(h),!(h<t)&&!(h>r))return o}}}}function d(e){for(var n='<?xml version="1.0" encoding="UTF-8"?><game-table name="チェス - 2" width="18" height="40" gridSize="50" imageIdentifier="d3e2ee12ee48f73e8d02da3d1d910850dcf19cd2051c4729473984f9c608a601" backgroundImageIdentifier="135be99407c465c3b297d0b332a85a2d99937f856baa339dae89b82e3386c5ef" backgroundFilterType="black" selected="true" gridType="0" gridColor="#0000006e" girdSize="50">',a=0;a<7;++a)for(var t=0;t<18;++t)e[t][a]&&(n+='<terrain location.name="table" location.x="'.concat(100*(a+1),'" location.y="').concat(100*(t+1),'" posZ="0" isLocked="true" mode="3" rotate="0"><data name="terrain"><data name="image"><data type="image" name="imageIdentifier"></data><data type="image" name="wall">./assets/images/tex.jpg</data><data type="image" name="floor">./assets/images/tex.jpg</data></data><data name="common"><data name="name">地形</data><data name="width">2</data><data name="height">2</data><data name="depth">2</data></data><data name="detail"></data></data></terrain>'));return n+="</game-table>",n}var l=(0,r.aZ)({methods:{loadXml:function(){var e=c(18,7,2,14,15),n=d(e),a=new Blob([n],{type:"text/xml"}),t=URL.createObjectURL(a),r=document.createElement("a");document.body.appendChild(r),r.download="chess-map.xml",r.href=t,r.click(),r.remove(),URL.revokeObjectURL(t)}}}),m=a(744);const s=(0,m.Z)(l,[["render",f]]);var p=s;(0,t.ri)(p).mount("#app")}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(n,t,r,o){if(!t){var i=1/0;for(d=0;d<e.length;d++){t=e[d][0],r=e[d][1],o=e[d][2];for(var u=!0,f=0;f<t.length;f++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](t[f])}))?t.splice(f--,1):(u=!1,o<i&&(i=o));if(u){e.splice(d--,1);var c=r();void 0!==c&&(n=c)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[t,r,o]}}(),function(){a.d=function(e,n){for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};a.O.j=function(n){return 0===e[n]};var n=function(n,t){var r,o,i=t[0],u=t[1],f=t[2],c=0;if(i.some((function(n){return 0!==e[n]}))){for(r in u)a.o(u,r)&&(a.m[r]=u[r]);if(f)var d=f(a)}for(n&&n(t);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},t=self["webpackChunkthe_compass"]=self["webpackChunkthe_compass"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=a.O(void 0,[998],(function(){return a(582)}));t=a.O(t)})();
//# sourceMappingURL=app.27a89ff5.js.map